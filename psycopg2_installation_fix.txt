# ModEcon Matrix System - psycopg2 Installation Fix

## Problem Description
When running the `install_packages.bat` script, the following error occurred:

```
Error: pg_config executable not found.

pg_config is required to build psycopg2 from source. Please add the directory
containing pg_config to the $PATH or specify the full executable path with the
option:

    python setup.py build_ext --pg-config /path/to/pg_config build ...

or with the pg_config option in 'setup.cfg'.

If you prefer to avoid building psycopg2 from source, please install the PyPI
'psycopg2-binary' package instead.
```

## Root Cause
The error occurred because the installation was trying to build psycopg2 from source, which requires the PostgreSQL development tools (specifically pg_config) to be installed and available in the PATH. Most users don't have these development tools installed by default.

## Solution Implemented
Two changes were made to fix this issue:

1. Modified `install_packages.bat` to explicitly install psycopg2-binary before installing other packages:
   ```batch
   echo Installing psycopg2-binary package...
   pip install psycopg2-binary==2.9.3
   echo Installing remaining packages from requirements.txt...
   pip install -r requirements.txt
   ```

2. Updated `test_installation.py` to check for 'psycopg2_binary' instead of 'psycopg2':
   ```python
   # Python packages to check
   python_packages = [
       'flask',
       'psycopg2_binary',  # Changed from 'psycopg2'
       'clickhouse_driver',
       # ...
   ]
   ```

## Verification
After making these changes, the installation should complete without errors. The `test_installation.py` script will verify that psycopg2_binary is correctly installed.

## Future Considerations
If you need to modify the installation process in the future:
- Always use psycopg2-binary instead of psycopg2 to avoid compilation issues
- Keep the version pinned (e.g., ==2.9.3) to ensure compatibility
- If PostgreSQL version changes, you may need to update the psycopg2-binary version accordingly